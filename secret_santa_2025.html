<!doctype html>
<html lang="fr">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Secret Santa</title>
  <link rel="stylesheet" href="https://teagan-eleov.github.io/burn-font-host/style.css" />
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/malihu/jquery-style-my-tooltips/jquery.style-my-tooltips.js"></script>
  <script>
    (function ($) {
      $(function () {
        $("[title]").style_my_tooltips({
          tip_follows_cursor: true,
          tip_delay_time: 0,
          tip_fade_speed: 300
        });
      });
    })(jQuery);
  </script>

  <style>
    body {
      background: var(--surface-2);
    }

    .container {
      position: absolute;
      top: 130px;
      left: 47%;
    }

    /* ===== Sapin (inchang√© / repris de ton fichier) ===== */
    .socks {
      position: absolute;
      top: 80px;
      left: 10px;
      z-index: 1;
      transform: rotate(10deg);
    }

    .socks.two {
      position: absolute;
      top: 143px;
      left: -40px;
      z-index: 1;
      transform: rotate(-10deg);
    }

    .socks:hover {
      animation: 1.9s deco linear infinite;
    }

    .top {
      position: absolute;
      width: 15px;
      height: 35px;
      background: #E54B4B;
      border-radius: 5px;
    }

    .foot {
      position: absolute;
      top: 20px;
      left: 0;
      width: 25px;
      height: 15px;
      border-radius: 30px;
      background: #E54B4B;
    }

    .foot.two {
      position: absolute;
      top: 20px;
      left: -10px;
      width: 25px;
      height: 15px;
      border-radius: 30px;
      background: #E54B4B;
    }

    .tree {
      position: absolute;
    }

    .base {
      width: 210px;
      height: 10px;
      background: #CCC;
      position: absolute;
      top: 304px;
      left: -45px;
      border-radius: 100%;
    }

    .base:after {
      content: '';
      width: 20px;
      height: 20px;
      background: #84714F;
      position: absolute;
      top: -25px;
      left: 83px;
    }

    .layer {
      position: absolute;
      width: 0;
      height: 0;
      border-left: 50px solid transparent;
      border-right: 50px solid transparent;
      border-bottom: 100px solid #499F68;
    }

    .layer.two {
      position: absolute;
      top: 30px;
      left: -10px;
      border-left: 60px solid transparent;
      border-right: 60px solid transparent;
      border-bottom: 120px solid #499F68;
    }

    .layer.three {
      position: absolute;
      top: 50px;
      left: -30px;
      border-left: 80px solid transparent;
      border-right: 80px solid transparent;
      border-bottom: 160px solid #499F68;
    }

    .layer.four {
      position: absolute;
      top: 80px;
      left: -50px;
      border-left: 100px solid transparent;
      border-right: 100px solid transparent;
      border-bottom: 200px solid #499F68;
    }

    .bauble {
      z-index: 1;
      position: absolute;
      border-radius: 100%;
    }

    .bauble.one {
      top: 65px;
      width: 13px;
      height: 13px;
      background: #FFE066;
    }

    .bauble.two {
      top: 105px;
      left: -30px;
      width: 13px;
      height: 13px;
      background: #FFE066;
    }

    .bauble.three {
      top: 110px;
      left: 15px;
      width: 13px;
      height: 13px;
      background: #FFE066;
    }

    .bauble.four {
      top: 163px;
      left: -30px;
      width: 13px;
      height: 13px;
      background: #FFE066;
    }

    .line {
      z-index: 1;
      position: absolute;
      top: 70px;
      left: -43px;
      width: 70px;
      height: 0;
      background: #FFE066;
      border: 1px dashed #FFF;
      transform: rotate(-30deg);
    }

    .line.two {
      top: 93px;
      left: -50px;
      width: 85px;
      height: 0;
      background: #FFE066;
      border: 1px dashed #FFF;
      transform: rotate(-30deg);
    }

    .line.three {
      top: 123px;
      left: -60px;
      width: 106px;
      height: 0;
      background: #FFE066;
      border: 1px dashed #FFF;
      transform: rotate(-30deg);
    }

    .line.four {
      top: 153px;
      left: -80px;
      width: 136px;
      height: 0;
      background: #FFE066;
      border: 1px dashed #FFF;
      transform: rotate(-30deg);
    }

    .light {
      box-shadow: 1px 1px 10px #CCC,
        -2px 1px 10px #CCC,
        0 -1px 10px #CCC;
    }

    .star {
      z-index: 1;
      position: absolute;
      left: -49px;
      top: -40px;
      display: block;
      width: 0px;
      height: 0px;
      border-right: 100px solid transparent;
      border-bottom: 70px solid #FFE066;
      border-left: 100px solid transparent;
      transform: rotate(35deg) scale(.2);
    }

    .star:before {
      border-bottom: 80px solid #FFE066;
      border-left: 30px solid transparent;
      border-right: 30px solid transparent;
      position: absolute;
      height: 0;
      width: 0;
      top: -45px;
      left: -65px;
      display: block;
      content: '';
      transform: rotate(-35deg);
    }

    .star:after {
      position: absolute;
      display: block;
      top: 3px;
      left: -105px;
      width: 0px;
      height: 0px;
      border-right: 100px solid transparent;
      border-bottom: 70px solid #FFE066;
      border-left: 100px solid transparent;
      transform: rotate(-70deg);
      content: '';
    }

    .star.two {
      transform: rotate(23deg) scale(.1);
      position: absolute;
      top: 102px;
      left: -60px;
    }

    @keyframes deco {
      0% {
        transform: rotate(5deg)
      }

      50% {
        transform: rotate(-10deg)
      }

      100% {
        transform: rotate(5deg)
      }
    }

    /* ===== Cadeaux (multi) ===== */
    .gift-area {
      position: absolute;
      left: 0;
      top: 0;
      width: 260px;
      height: 340px;
      pointer-events: none;
      /* on r√©active sur chaque cadeau */
    }

    .pressie {
      z-index: 2;
      position: absolute;
      top: var(--y);
      left: var(--x);
      width: 60px;
      height: 60px;
      background: var(--gift-color, #F45B69);
      transform: scale(var(--s, 1));
      cursor: pointer;
      pointer-events: auto;
      user-select: none;
    }

    .cover {
      position: absolute;
      left: -3px;
      width: 66px;
      height: 10px;
      background: var(--gift-color, #F45B69);
      border-bottom: 1px solid #AAA;
    }

    .wrap {
      position: absolute;
      left: 25px;
      background: var(--ribbon-color, #59C3C3);
      width: 10px;
      height: 60px;
    }

    .ribbon {
      position: absolute;
      top: -30px;
      left: 10px;
      background: #FFF;
      width: 12px;
      height: 25px;
      border-radius: 0 80% 20% 80%;
      border: 3px solid var(--ribbon-color, #59C3C3);
      transform: rotate(-10deg);
    }

    .ribbon:after {
      position: absolute;
      top: 0;
      left: 20px;
      background: #FFF;
      width: 12px;
      height: 25px;
      border-radius: 0 80% 20% 80%;
      border: 3px solid var(--ribbon-color, #59C3C3);
      transform: rotate(60deg);
      content: '';
    }

    .pressie:hover {
      animation: 0.5s move linear infinite;
    }

    @keyframes move {
      0% {
        transform: rotate(5deg) scale(var(--s, 1));
      }

      50% {
        transform: rotate(-10deg) scale(var(--s, 1));
      }

      100% {
        transform: rotate(5deg) scale(var(--s, 1));
      }
    }

    /* ===== Modale ===== */
    .modal {
      display: none;
      position: fixed;
      inset: 0;
      transition: 0.2s opacity ease;
      background: rgba(0, 0, 0, 0.3);
      z-index: 999;
      padding: 24px;
    }

    .modal[aria-hidden="false"] {
      display: block;
    }

    .modal-content {
      padding: 24px 20px;
      transition: 0.2s opacity ease;
      border-radius: 16px;
      border: 1px solid var(--stroke-tertiary);
      color: var(--text-color);

      background: linear-gradient(145deg,
          var(--card-grad-left),
          var(--card-grad-right));
      backdrop-filter: blur(22px);
      width: min(520px, 92vw);
      margin: 10vh auto 0;
      border-radius: 16px;
      padding: 18px 18px 22px;
      box-shadow: 0 20px 80px rgba(0, 0, 0, .35);
      position: relative;
      text-align: center;
      display: flex;
      flex-direction: column;
      gap: 16px;

    }

    @keyframes pop {
      from {
        transform: translateY(10px) scale(.96);
        opacity: 0;
      }

      to {
        transform: translateY(0) scale(1);
        opacity: 1;
      }
    }

    .close {

      display: grid;
      place-items: center;
      width: 24px;
      height: 24px;
      position: absolute;
      top: -7px;
      right: -7px;
      padding: 5px;
      cursor: pointer;
      color: var(--color-onTint);
      border: 0;
      outline: none;
      background: var(--surface-tint);
      border-radius: 50%;
      padding: 0;

    }

    .close:hover {
      background: var(--surface-2);
    }

    /*#modalTitle {
      margin: 6px 0 12px;
      font-size: 22px;
    }*/

    .avatar {
      width: 200px;
      height: 400px;
    }

    .avatarSecondaire {
      width: 100px;
      height: 100px;
    }

    .aesthetic {
      width: 300px;
      height: 300px;
    }

    .board {
      height: 100%;
    }

    .text {
      display: flex;
      height: 400px;
      overflow: auto;
      text-align: left;
    }
  </style>
</head>

<body>
  <div class="container" id="scene">
    <div class="star"></div>

    <!-- 14 cadeaux g√©n√©r√©s en JS ici -->
    <div class="gift-area" id="giftArea" aria-label="Cadeaux"></div>

    <div class="tree">
      <div class="base"> </div>

      <div class="layer">
        <div class="line"> </div>
        <div class="bauble one"></div>
      </div>

      <div class="layer two">
        <div class="line two"> </div>
        <div class="bauble two"></div>
        <div class="socks">
          <div class="top"> </div>
          <div class="foot"></div>
        </div>
      </div>

      <div class="layer three">
        <div class="line three"> </div>
        <div class="bauble three"></div>
        <div class="socks two">
          <div class="top"> </div>
          <div class="foot two"></div>
        </div>
      </div>

      <div class="layer four">
        <div class="bauble four"></div>
        <div class="star two"></div>
        <div class="line four"> </div>
      </div>
    </div>
  </div>

  <!-- Modale unique -->
  <div id="modal" class="modal" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <button class="close" type="button" aria-label="Fermer">√ó</button>
      <h3 id="modalTitle"></h3>
      <div id="modalBody"></div>
    </div>
  </div>

  <script>
    // ===== 1) Contenus des 14 cadeaux =====
    // - title : commun (tu peux le changer ici)
    // - type  : "text" ou "img"
    // - content: texte OU URL d'image
    const gifts = [
      {
        title: "Pour Ava", content: `<img class="avatar" src="https://i85.servimg.com/u/f85/18/91/57/79/ava_av12.png"/>`, giftColor: "#9497d2",
        ribbonColor: "#59C3C3"
      },
      {
        title: "Pour Tristan", content: `Tu re√ßois : des Avatars ! <br/><br/> 
        <div style="display: flex; height: 400px; overflow: auto; align-items: center; justify-content: center; gap: 32px; flex-wrap: wrap;"><img class="avatar" src="https://zupimages.net/up/25/52/clvf.jpg"/> 
          <img class="avatar" src="https://zupimages.net/up/25/52/2twj.jpg"/><img class="avatar" src="https://zupimages.net/up/25/52/4fr5.jpg"/></div>`, giftColor: "#F45B69",
        ribbonColor: "#59C3C3"
      },
      {
        title: "Pour Eleo", content: `Tu re√ßois : une identit√© de Marque  ! <br/><br/> <div style="height: 400px; overflow: auto;"><a href="https://i.imgur.com/p5YdrxK.png" target="_blank"><img class="board" src="https://i.imgur.com/p5YdrxK.png"/></a></div>`, giftColor: "#ffa5f4",
        ribbonColor: "#9497d2"
      },
      {
        title: "Pour Will", content: `<a href="https://i.servimg.com/u/f76/14/18/37/29/cadeau10.jpg"><img style="width: 400px; height: 400px;" src="https://i.servimg.com/u/f76/14/18/37/29/cadeau10.jpg"/></a>`, giftColor: "#55a14f",
        ribbonColor: "#ff6666"
      },
      {
        title: "Pour Wilhelm", content: `Tu re√ßois : des Avatars ! <br/><br/> 
        <div style="display: flex; align-items: center; justify-content: center; gap: 32px;"><img class="avatarSecondaire" src="https://i.imgur.com/afYtNyp.png"/> 
          <img class="avatar" src="https://i.imgur.com/0677itg.png"/></div>`, giftColor: "#ddb029",
        ribbonColor: "#e1f2f2"
      },
      {
        title: "Pour Ekaterina", content: `Tu re√ßois : un Aesthetic et un lot d'Avatars ! <br/><br/> 
        <div style="height: 400px; overflow: auto; display: flex; align-items: center; gap: 32px; flex-direction: column;"><img class="aesthetic" src="https://i.servimg.com/u/f85/18/91/57/79/secret10.jpg"/><img class="avatarSecondaire" src="https://i.servimg.com/u/f85/18/91/57/79/avatar10.png"/> 
          <img class="avatar" src="https://i.servimg.com/u/f85/18/91/57/79/ava_ek10.png"/></div>`, giftColor: "#993c45",
        ribbonColor: "#ffda00"
      },
      {
        title: "Pour Balthazar", content: `Tu re√ßois : un Aesthetic! <br/><br/> 
        <div style="height: 400px; overflow: auto; display: flex; align-items: center; gap: 32px; flex-direction: column;"><img class="aesthetic" src="https://2img.net/i.imgur.com/7QgLF16.jpeg"/> 
        </div>`, giftColor: "#6e5bf4",
        ribbonColor: "#ddbc7c"
      },
      {
        title: "Pour Arthur", content: `Une signature ! <br/><img style="width: 100%;" src="https://i.ibb.co/YngrxS1/Secret-Santa-Arthur.png"/>`, giftColor: "#c3e6a2",
        ribbonColor: "#3a5f66"
      },

      {
        title: "Pour Ashelia", content: `<img class="avatar" src="https://i.servimg.com/u/f97/13/77/09/68/blonde11.jpg"/>`, giftColor: "#5e507f",
        ribbonColor: "#c071a7"
      },

      {
        title: "Pour Damiano", content: `Une playlist ! <iframe data-testid="embed-iframe" style="border-radius:12px" src="https://open.spotify.com/embed/playlist/0DNw6JaKGAf9RUXKHVlXE4?utm_source=generator&theme=0" width="100%" height="352" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>`, giftColor: "#91e9f6",
        ribbonColor: "#c35959"
      },
      {
        title: "Pour April", content: `<div style="height: 400px; overflow: auto; display: flex; align-items: center; gap: 32px; flex-direction: column;">
        Joyeux Noel !!!! <br/><br/>

Quand le solstice √©tire ses doigts glac√©s,<br/>
Et que le vent se faufile entre les toits,<br/>
Certains se cachent sous des couvertures us√©es,<br/>
D‚Äôautres lisent, √©crivent, cherchent la moindre fois.<br/><br/>

April, t√™te br√ªl√©e du journal,<br/>
Toujours l√† o√π sa fait mal, √† flairer l‚Äôinvisible,<br/>
√âcrire la v√©rit√© en un style magistral,<br/>
A d√©ranger ceux qui pr√©f√®rent l‚Äôinadmissible.<br/><br/>

Ah, le journal du Trident ! V√©rit√©s et rumeurs,<br/>
Un oc√©an de phrases bien trop s√®ches,<br/>
Mais vous y plongez avec votre ardeur,<br/>
Sans jamais craindre de vous faire une br√®che.<br/><br/>

Moi, je reste derri√®re mes fioles et mes carnets,<br/>
Avec mes cadavres et mes r√™ves,<br/>
Mais je dois avouer, avec un certain regret,<br/>
qu'apr√®s avoir chercher, j'ai pas de rime en √®ve.<br/><br/>

Ironie du solstice, de vous √©crire ces vers :<br/>
Je ne vous connais pas, et pourtant je devine,<br/>
Que vos enqu√™tes franchissent tous les murs de verre,<br/>
Et que chaque secret vous tend sa main fine.<br/><br/>

Que vos questions soient nombreuses, et vos nerfs solides,<br/>
Que vos carnets d√©bordent, vos notes s‚Äô√©parpillent,<br/>
Et si jamais vous trouvez la v√©rit√© candide,<br/>
Ne vous √©tonnez pas si le monde vacille.<br/><br/>

Pour sceller ces lignes, et clore ma pirouette,<br/>
Je glisse entre vos mains un dessin, sans pr√©tention.<br/>
Un trait de folie, un √©clat discret, une fac√©tie muette,<br/>
Comme un clin d‚Äô≈ìil silencieux √† votre d√©termination. 


<img style="width: 50%" src="https://2img.net/i.imgur.com/sU8GrzZ.png"/></div>`, giftColor: "#635bf4",
        ribbonColor: "#59c35f"
      },
      {
        title: "Pour Souris", content: `Tu re√ßois : un lot d'Avatars ! <br/><br/> 
        <div style="height: 400px; overflow: auto; display: flex; align-items: center; gap: 32px; flex-direction: column;"><img class="avatar" src="https://i.servimg.com/u/f51/20/58/40/50/souris10.png"/><img class="avatar" src="https://i.servimg.com/u/f51/20/58/40/50/souris10.jpg"/> 
          <img class="avatarSecondaire" src="https://i.servimg.com/u/f51/20/58/40/50/silhou10.jpg"/></div>`, giftColor: "#f4c871",
        ribbonColor: "#844040"
      },
      {
        title: "Pour Evans", content: `Tu re√ßois : un avatar ! <br/><br/> 
        <div style="height: 400px; overflow: auto; display: flex; align-items: center; gap: 32px; flex-direction: column;"><img class="avatar" src="https://www.zupimages.net/up/25/52/1zos.gif"/>
         </div>`, giftColor: "#c2f4bc",
        ribbonColor: "#8d4444"
      },
      {
        title: "Pour Seidhr", content: `<div class="text">Seidhr Vellh√°n<br/><br/>

Elle est n√©e sous l‚Äô≈ìil des anc√™tres,<br/>
dans le cliquetis des os compt√©s,<br/>
enfant diss√©qu√©e avant son premier pas.<br/>
On a pes√© son avenir comme on soup√®se une lame :<br/>
Enn silence, avec m√©fiance.<br/><br/>

Ses adelphes dorment dans sa chair.<br/>
Ils ne parlent pas, ils tirent.<br/>
√Ä chaque effort, leurs spectres serrent sa nuque, racines mortes qui refusent la terre.<br/><br/>

La mer l‚Äôa couv√©e un temps, sans faillir,<br/>
Galca, m√¢choire de r√©cifs, √Æle-refuge au temps suspendu.<br/>
L√†, elle a appris que la violence pouvait prendre la forme du sel, du vent, d‚Äôune main tendue.<br/>
L√†, un anneau d‚Äôos a scell√© ce que la magie n‚Äôa jamais su tenir.<br/><br/>

Puis le sang est venu r√©clamer son d√ª.<br/>
Premier flot, premi√®re chasse.<br/>
On l‚Äôa rappel√©e comme on rappelle une arme : sans adieu, sans retenue.<br/>
Sa m√®re s‚Äôest retir√©e comme une mar√©e basse,<br/>
laissant derri√®re elle des couperets et le vide.<br/><br/>

Seidhr a grandi droite, charpent√©e par l‚ÄôOrdre, marqu√©e par Scorie,<br/>
cet animal noir log√© sous la peau qui tressaille.<br/>
Cr√©ature noire d'encre, qui jamais ne trahit.<br/><br/>

√Ä Port-Fid√®l, les cristaux de son coeur chantaient.<br/>
Le coeur d'Olenna faisait de m√™me pour elle.<br/>
Sorci√®re dissidente, amante impossible, orage captiv√©.<br/>
Elles savaient. Elles ont continu√© de plus belle.<br/><br/>

Le meurtre a claqu√© comme un √©clair.<br/>
Une arme, de la poudre, une lumi√®re greff√©e √† la main du tra√Ætre.<br/>
Et Seidhr, surgie trop tard, lame noire au travers d‚Äôune gorge √©trang√®re.<br/>
Le sang s‚Äôest √©crit comme une encre am√®re<br/>
et Olenna a vol√© sa propre mort avant de dispara√Ætre.<br/><br/>


Depuis Seidhr reste l√†, face au ciel noy√©,<br/>
la peine dans son coeur encore enracin√©e,<br/>
cherchant entre les nuages ce fragment de lumi√®re qu‚Äôon appelle avenir.<br/><br/>

Elle avance. Pour les morts. Pour l‚Äôapr√®s.<br/>
Pour le jour o√π m√™me la chasse devra apprendre √† changer.<br/>
</div>`, giftColor: "#ba5bf4",
        ribbonColor: "#59c3ae"
      },

    ];

    // ===== 2) Positions des 14 cadeaux (sous le sapin) =====
    // Ajuste x/y si tu veux les d√©placer.
    // (x/y sont relatifs √† .container)
    const positions = [
      { x: -120, y: 250, s: 1.00 },
      { x: -65, y: 270, s: 0.90 },
      { x: -170, y: 270, s: 0.92 },
      { x: -100, y: 305, s: 0.85 },
      { x: -25, y: 295, s: 0.82 },
      { x: -160, y: 320, s: 0.78 },
      { x: 35, y: 295, s: 0.78 },
      { x: 0, y: 330, s: 0.70 },
      { x: 90, y: 280, s: 0.70 },
      { x: 75, y: 330, s: 0.72 },
      { x: 185, y: 245, s: 0.87 },
      { x: 200, y: 275, s: 0.68 },
      { x: 150, y: 280, s: 0.75 },
      { x: 140, y: 325, s: 0.92 },
    ];

    // ===== 3) G√©n√©rer les 14 cadeaux dans le DOM =====
    const giftArea = document.getElementById("giftArea");

    function makeGift(i) {
      const g = gifts[i];
      const p = positions[i] || { x: 120, y: 260, s: 1 };

      const el = document.createElement("div");
      el.className = "pressie";
      el.style.setProperty("--x", p.x + "px");
      el.style.setProperty("--y", p.y + "px");
      el.style.setProperty("--s", p.s);

      if (g.giftColor) {
        el.style.setProperty("--gift-color", g.giftColor);
      }
      if (g.ribbonColor) {
        el.style.setProperty("--ribbon-color", g.ribbonColor);
      }


      el.dataset.title = g.title;
      el.dataset.content = g.content;

      el.innerHTML = '<div class="cover"></div><div class="wrap"></div><div class="ribbon"></div>';
      return el;
    }

    for (let i = 0; i < 14; i++) {
      giftArea.appendChild(makeGift(i));
    }

    // ===== 4) Modale =====
    const modal = document.getElementById("modal");
    const modalTitle = document.getElementById("modalTitle");
    const modalBody = document.getElementById("modalBody");
    const closeBtn = modal.querySelector(".close");

    function openModal(title, content) {
      modalTitle.textContent = title || "üéÅ Cadeau";
      modalBody.innerHTML = content || "";
      modal.setAttribute("aria-hidden", "false");
    }

    function closeModal() {
      modal.setAttribute("aria-hidden", "true");
      modalBody.innerHTML = "";
    }

    document.addEventListener("click", (e) => {
      const gift = e.target.closest(".pressie");
      if (gift) {
        openModal(gift.dataset.title, gift.dataset.content);
        return;
      }

      if (e.target === modal) closeModal();
      if (e.target === closeBtn) closeModal();
    });

    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape" && modal.getAttribute("aria-hidden") === "false") closeModal();
    });

    // ===== 5) Lumi√®res sapin : remplace ton jQuery par du vanilla =====
    const scene = document.getElementById("scene");
    scene.addEventListener("mouseover", () => {
      document.querySelectorAll(".bauble").forEach(b => b.classList.add("light"));
    });
    scene.addEventListener("mouseout", () => {
      document.querySelectorAll(".bauble").forEach(b => b.classList.remove("light"));
    });
  </script>
</body>

</html>
