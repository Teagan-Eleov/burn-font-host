<!doctype html>
<html lang="fr">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Secret Santa</title>
  <link rel="stylesheet" href="https://teagan-eleov.github.io/burn-font-host/style.css" />
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/malihu/jquery-style-my-tooltips/jquery.style-my-tooltips.js"></script>
  <script>
    (function ($) {
        $(function () {
            $("[title]").style_my_tooltips({
                tip_follows_cursor: true,
                tip_delay_time: 0,
                tip_fade_speed: 300
            });
        });
    })(jQuery);
</script>

  <style>
    body {
      background: var(--surface-1);
    }

    .container {
      position: absolute;
  top: 130px;
  left: 47%;
    }

    /* ===== Sapin (inchangÃ© / repris de ton fichier) ===== */
    .socks {
      position: absolute;
      top: 80px;
      left: 10px;
      z-index: 1;
      transform: rotate(10deg);
    }

    .socks.two {
      position: absolute;
      top: 143px;
      left: -40px;
      z-index: 1;
      transform: rotate(-10deg);
    }

    .socks:hover {
      animation: 1.9s deco linear infinite;
    }

    .top {
      position: absolute;
      width: 15px;
      height: 35px;
      background: #E54B4B;
      border-radius: 5px;
    }

    .foot {
      position: absolute;
      top: 20px;
      left: 0;
      width: 25px;
      height: 15px;
      border-radius: 30px;
      background: #E54B4B;
    }

    .foot.two {
      position: absolute;
      top: 20px;
      left: -10px;
      width: 25px;
      height: 15px;
      border-radius: 30px;
      background: #E54B4B;
    }

    .tree {
      position: absolute;
    }

    .base {
      width: 210px;
      height: 10px;
      background: #CCC;
      position: absolute;
      top: 304px;
      left: -45px;
      border-radius: 100%;
    }

    .base:after {
      content: '';
      width: 20px;
      height: 20px;
      background: #84714F;
      position: absolute;
      top: -25px;
      left: 83px;
    }

    .layer {
      position: absolute;
      width: 0;
      height: 0;
      border-left: 50px solid transparent;
      border-right: 50px solid transparent;
      border-bottom: 100px solid #499F68;
    }

    .layer.two {
      position: absolute;
      top: 30px;
      left: -10px;
      border-left: 60px solid transparent;
      border-right: 60px solid transparent;
      border-bottom: 120px solid #499F68;
    }

    .layer.three {
      position: absolute;
      top: 50px;
      left: -30px;
      border-left: 80px solid transparent;
      border-right: 80px solid transparent;
      border-bottom: 160px solid #499F68;
    }

    .layer.four {
      position: absolute;
      top: 80px;
      left: -50px;
      border-left: 100px solid transparent;
      border-right: 100px solid transparent;
      border-bottom: 200px solid #499F68;
    }

    .bauble {
      z-index: 1;
      position: absolute;
      border-radius: 100%;
    }

    .bauble.one {
      top: 65px;
      width: 13px;
      height: 13px;
      background: #FFE066;
    }

    .bauble.two {
      top: 105px;
      left: -30px;
      width: 13px;
      height: 13px;
      background: #FFE066;
    }

    .bauble.three {
      top: 110px;
      left: 15px;
      width: 13px;
      height: 13px;
      background: #FFE066;
    }

    .bauble.four {
      top: 163px;
      left: -30px;
      width: 13px;
      height: 13px;
      background: #FFE066;
    }

    .line {
      z-index: 1;
      position: absolute;
      top: 70px;
      left: -43px;
      width: 70px;
      height: 0;
      background: #FFE066;
      border: 1px dashed #FFF;
      transform: rotate(-30deg);
    }

    .line.two {
      top: 93px;
      left: -50px;
      width: 85px;
      height: 0;
      background: #FFE066;
      border: 1px dashed #FFF;
      transform: rotate(-30deg);
    }

    .line.three {
      top: 123px;
      left: -60px;
      width: 106px;
      height: 0;
      background: #FFE066;
      border: 1px dashed #FFF;
      transform: rotate(-30deg);
    }

    .line.four {
      top: 153px;
      left: -80px;
      width: 136px;
      height: 0;
      background: #FFE066;
      border: 1px dashed #FFF;
      transform: rotate(-30deg);
    }

    .light {
      box-shadow: 1px 1px 10px #CCC,
        -2px 1px 10px #CCC,
        0 -1px 10px #CCC;
    }

    .star {
      z-index: 1;
      position: absolute;
      left: -49px;
      top: -40px;
      display: block;
      width: 0px;
      height: 0px;
      border-right: 100px solid transparent;
      border-bottom: 70px solid #FFE066;
      border-left: 100px solid transparent;
      transform: rotate(35deg) scale(.2);
    }

    .star:before {
      border-bottom: 80px solid #FFE066;
      border-left: 30px solid transparent;
      border-right: 30px solid transparent;
      position: absolute;
      height: 0;
      width: 0;
      top: -45px;
      left: -65px;
      display: block;
      content: '';
      transform: rotate(-35deg);
    }

    .star:after {
      position: absolute;
      display: block;
      top: 3px;
      left: -105px;
      width: 0px;
      height: 0px;
      border-right: 100px solid transparent;
      border-bottom: 70px solid #FFE066;
      border-left: 100px solid transparent;
      transform: rotate(-70deg);
      content: '';
    }

    .star.two {
      transform: rotate(23deg) scale(.1);
      position: absolute;
      top: 102px;
      left: -60px;
    }

    @keyframes deco {
      0% {
        transform: rotate(5deg)
      }

      50% {
        transform: rotate(-10deg)
      }

      100% {
        transform: rotate(5deg)
      }
    }

    /* ===== Cadeaux (multi) ===== */
    .gift-area {
      position: absolute;
      left: 0;
      top: 0;
      width: 260px;
      height: 340px;
      pointer-events: none;
      /* on rÃ©active sur chaque cadeau */
    }

    .pressie {
      z-index: 2;
      position: absolute;
      top: var(--y);
      left: var(--x);
      width: 60px;
      height: 60px;
      background: var(--gift-color, #F45B69);
      transform: scale(var(--s, 1));
      cursor: pointer;
      pointer-events: auto;
      user-select: none;
    }

    .cover {
      position: absolute;
      left: -3px;
      width: 66px;
      height: 10px;
      background: var(--gift-color, #F45B69);
      border-bottom: 1px solid #AAA;
    }

    .wrap {
      position: absolute;
      left: 25px;
      background: var(--ribbon-color, #59C3C3);
      width: 10px;
      height: 60px;
    }

    .ribbon {
      position: absolute;
      top: -30px;
      left: 10px;
      background: #FFF;
      width: 12px;
      height: 25px;
      border-radius: 0 80% 20% 80%;
      border: 3px solid var(--ribbon-color, #59C3C3);
      transform: rotate(-10deg);
    }

    .ribbon:after {
      position: absolute;
      top: 0;
      left: 20px;
      background: #FFF;
      width: 12px;
      height: 25px;
      border-radius: 0 80% 20% 80%;
      border: 3px solid var(--ribbon-color, #59C3C3);
      transform: rotate(60deg);
      content: '';
    }

    .pressie:hover {
      animation: 0.5s move linear infinite;
    }

    @keyframes move {
      0% {
        transform: rotate(5deg) scale(var(--s, 1));
      }

      50% {
        transform: rotate(-10deg) scale(var(--s, 1));
      }

      100% {
        transform: rotate(5deg) scale(var(--s, 1));
      }
    }

    /* ===== Modale ===== */
    .modal {
      display: none;
      position: fixed;
      inset: 0;
      transition: 0.2s opacity ease;
      background: rgba(0, 0, 0, 0.3);
      z-index: 999;
      padding: 24px;
    }

    .modal[aria-hidden="false"] {
      display: block;
    }

    .modal-content {
      padding: 24px 20px;
      transition: 0.2s opacity ease;
      border-radius: 16px;
      border: 1px solid var(--stroke-tertiary);
      color: var(--text-color);

      background: linear-gradient(145deg,
          var(--card-grad-left),
          var(--card-grad-right));
      backdrop-filter: blur(22px);
      width: min(520px, 92vw);
      margin: 10vh auto 0;
      border-radius: 16px;
      padding: 18px 18px 22px;
      box-shadow: 0 20px 80px rgba(0, 0, 0, .35);
      position: relative;
      text-align: center;
      display: flex;
      flex-direction: column;
      gap: 16px;
      
    }

    @keyframes pop {
      from {
        transform: translateY(10px) scale(.96);
        opacity: 0;
      }

      to {
        transform: translateY(0) scale(1);
        opacity: 1;
      }
    }

    .close {

      display: grid;
      place-items: center;
      width: 24px;
      height: 24px;
      position: absolute;
      top: -7px;
      right: -7px;
      padding: 5px;
      cursor: pointer;
      color: var(--color-onTint);
      border: 0;
      outline: none;
      background: var(--surface-tint);
      border-radius: 50%;
      padding: 0;

    }

    .close:hover {
      background: var(--surface-2);
    }

    /*#modalTitle {
      margin: 6px 0 12px;
      font-size: 22px;
    }*/

    .avatar {
      width: 200px;
      height: 400px;
    }

    .text
    {
      display: flex;
      height: 400px;
      overflow: auto;
      text-align : left;
    }
  </style>
</head>

<body>
  <div class="container" id="scene">
    <div class="star"></div>

    <!-- 14 cadeaux gÃ©nÃ©rÃ©s en JS ici -->
    <div class="gift-area" id="giftArea" aria-label="Cadeaux"></div>

    <div class="tree">
      <div class="base"> </div>

      <div class="layer">
        <div class="line"> </div>
        <div class="bauble one"></div>
      </div>

      <div class="layer two">
        <div class="line two"> </div>
        <div class="bauble two"></div>
        <div class="socks">
          <div class="top"> </div>
          <div class="foot"></div>
        </div>
      </div>

      <div class="layer three">
        <div class="line three"> </div>
        <div class="bauble three"></div>
        <div class="socks two">
          <div class="top"> </div>
          <div class="foot two"></div>
        </div>
      </div>

      <div class="layer four">
        <div class="bauble four"></div>
        <div class="star two"></div>
        <div class="line four"> </div>
      </div>
    </div>
  </div>

  <!-- Modale unique -->
  <div id="modal" class="modal" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <button class="close" type="button" aria-label="Fermer">Ã—</button>
      <h3 id="modalTitle"></h3>
      <div id="modalBody"></div>
    </div>
  </div>

  <script>
    // ===== 1) Contenus des 14 cadeaux =====
    // - title : commun (tu peux le changer ici)
    // - type  : "text" ou "img"
    // - content: texte OU URL d'image
    const gifts = [
      {
        title: "Pour Ava", content: `<div class="text">Â« Je ne suis pas en colÃ¨re.Â»

Le prunelles de Souris sâ€™accrochent au visage impassible du docteur Von Holheim. Les oreilles Ã©corchent le soupir quâ€™il Ã©chappe, et lâ€™attention compte mentalement le nombre de secondes que le silence Ã©grÃ¨ne avant quâ€™il ne reprenne la parole.
Est-ce un feu de colÃ¨re quâ€™il essaie discrÃ¨tement dâ€™Ã©touffer dâ€™un soupir ?
Est-ce le venin de sa rÃ©partie quâ€™il tente longuement dâ€™attÃ©nuer avant de parler ?

Si Souris est bonne comÃ©dienne, le mÃ©decin nâ€™est pas mal dans son genre non plus. Toutefois, elle nâ€™a pas certaine de savoir si câ€™est pour elle quâ€™il porte un masque si austÃ¨re, ou pour lui. Il faut plus que du professionnalisme pour rester ainsi de marbre tandis quâ€™on Ã©voque sa femme dÃ©cÃ©dÃ©e. Plus que du professionnalisme pour rester ainsi impassible face au souvenir dâ€™une naissance tant souhaitÃ©e. Le manque de rÃ©action est une rÃ©action en soit. La barricade face Ã  lâ€™Ã©motion. ColÃ¨re, rancoeur, aigreur, douleur ? Sâ€™il avait fait son deuil, probablement quâ€™il aurait esquissÃ© un lÃ©ger sourire, soulignÃ© la beautÃ© de la dame ce jour lÃ  - et tous les autres jours parce que lâ€™amour Ã§a rend aveugle - avant de poursuivre son discours. Ou bien, peut etre mÃªme justement quâ€™il se serait permis une incartade sur sa propre morale, concÃ©dant Ã  sa patiente toute ouÃ¯e une anecdote inutile. Le fait quâ€™il esquive si obstinÃ©ment le sujet, refusant chacune des trop nombreuses perches quâ€™elle lui a tendues souligne Ã  ses yeux lâ€™existence mÃªme dâ€™un abcÃ¨s Ã  crever. Paradoxal pour un chirurgien, faut croire que les cordonniers sont toujours les plus mal chaussÃ©s.

Souris sait reconnaÃ®tre quand une cause est perdue, bien quâ€™elle ai grattÃ© quand mÃªme sous la surface pour Ãªtre sure, au cas oÃ¹. La carte du sentimentalisme ne fonctionnera pas avec le pÃ¨re Von Holheim. Pardon, feu pÃ¨re ? On dit veuf lâ€™Ã©poux sans femme, orphelin lâ€™enfant sans parent, mais que dit-on du gÃ©niteur sans progÃ©niture ? Reste-t-il un pÃ¨re ?
Le pÃ¨re, admettons, nâ€™est donc pas rÃ©ceptif aux Ã©clats dâ€™Ã©motions. La Souris devra adapter sa stratÃ©gie si elle veut obtenir des informations, mais Ã§a risque dâ€™Ãªtre difficile Ã  effectuer ce soir. Sâ€™entÃªter dans un interrogatoire ne pourrait rÃ©ussir quâ€™Ã  gacher sa couverture. Elle doit en savoir plus sur lui avant de le questionner davantage, passer par les petites portes, ou regarder au travers des trous de serrure. Pas bien grave, elle est une gamine obstinÃ©, elle finira bien par trouver quelque chose.

Le regard reste attentif tandis quâ€™il insiste sur la marche Ã  suivre dans sa situation. Sa situation spÃ©cifique car elle est diffÃ©rente des autres. Car les autres sont diffÃ©rentes dâ€™elle. Soit. Elle opine lÃ©gÃ¨rement du chef, le temps que la comÃ©die de la culpabilitÃ© deviennent docilitÃ©. Elle ira voir la talentueuse herboriste. Elle convaincra son compagnon de venir consulter un mÃ©decin qui coÃ»te cher. Elle nâ€™ira jamais voir les infirmiÃ¨res parce que Ã§a fait peur. Oui monsieur. Merci monsieur.

Â« Dâ€™accord. .. Je ferai attention, oui.. Â»

Les jambes recommencent Ã  battre sous le siÃ¨ge un air que personne nâ€™entend. Ca trompe la gÃªne apparente, Ã§a trompe sa rÃ©flexion prenante. Le rat de laboratoire manque de tours Ã  jouer pour attirer lâ€™attention du scientifique. Lâ€™Ã©change ne lui aura rien appris ce soir, et peut-Ãªtre quâ€™il est temps dâ€™y mettre un terme. Elle sait quâ€™il vaut mieux partir sous couverture que de gÃ¢cher la comÃ©die.</div>`, giftColor: "#9497d2",
        ribbonColor: "#59C3C3"
      },
      {
        title: "Pour Tristan", content: `<iframe
      style="border-radius:12px"
      src="https://open.spotify.com/embed/playlist/37i9dQZF1DXcBWIGoYBM5M"
      width="100%"
      height="380"
      frameborder="0"
      allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
      loading="lazy">
    </iframe>`, giftColor: "#F45B69",
        ribbonColor: "#59C3C3"
      },
      {
        title: "Pour Eleo", content: `Tu gagnes : un Avatar ! <br/><br/> <img class="avatar" src="https://signavatar.com/80564_v.gif"/>`, giftColor: "#ffa5f4",
        ribbonColor: "#9497d2"
      },
      {
        title: "Pour Will", content: `Contenu`, giftColor: "#55a14f",
        ribbonColor: "#ff6666"
      },
      {
        title: "Pour Wilhelm", content: `Contenu`, giftColor: "#ddb029",
        ribbonColor: "#e1f2f2"
      },
      {
        title: "Pour Ekaterina", content: `Contenu`, giftColor: "#993c45",
        ribbonColor: "#ffda00"
      },
      {
        title: "Pour Balthazar", content: `Contenu`, giftColor: "#6e5bf4",
        ribbonColor: "#ddbc7c"
      },
      {
        title: "Pour Arthur", content: `Contenu`, giftColor: "#c3e6a2",
        ribbonColor: "#3a5f66"
      },
      
      {
        title: "Pour Ashelia", content: `Contenu`, giftColor: "#5e507f",
        ribbonColor: "#c071a7"
      },
      
      {
        title: "Pour Damiano", content: `Contenu`, giftColor: "#91e9f6",
        ribbonColor: "#c35959"
      },
      {
        title: "Pour April", content: `Contenu`, giftColor: "#635bf4",
        ribbonColor: "#59c35f"
      },
      {
        title: "Pour Souris", content: `Contenu`, giftColor: "#f4c871",
        ribbonColor: "#844040"
      },
      {
        title: "Pour Evans", content: `Contenu`, giftColor: "#c2f4bc",
        ribbonColor: "#8d4444"
      },
      {
        title: "Pour Seidhr", content: `Contenu`, giftColor: "#ba5bf4",
        ribbonColor: "#59c3ae"
      },
      
    ];

    // ===== 2) Positions des 14 cadeaux (sous le sapin) =====
    // Ajuste x/y si tu veux les dÃ©placer.
    // (x/y sont relatifs Ã  .container)
    const positions = [
      { x: -120, y: 250, s: 1.00 },
      { x: -65, y: 270, s: 0.90 },
      { x: -170, y: 270, s: 0.92 },
      { x: -100, y: 305, s: 0.85 },
      { x: -25, y: 295, s: 0.82 },
      { x: -160, y: 320, s: 0.78 },
      { x: 35, y: 295, s: 0.78 },
      { x: 0, y: 330, s: 0.70 },
      { x: 90, y: 280, s: 0.70 },
      { x: 75, y: 330, s: 0.72 },
      { x: 185, y: 245, s: 0.87 },
      { x: 200, y: 275, s: 0.68 },
      { x: 150, y: 280, s: 0.75 },
      { x: 140, y: 325, s: 0.92 },
    ];

    // ===== 3) GÃ©nÃ©rer les 14 cadeaux dans le DOM =====
    const giftArea = document.getElementById("giftArea");

    function makeGift(i) {
      const g = gifts[i];
      const p = positions[i] || { x: 120, y: 260, s: 1 };

      const el = document.createElement("div");
      el.className = "pressie";
      el.style.setProperty("--x", p.x + "px");
      el.style.setProperty("--y", p.y + "px");
      el.style.setProperty("--s", p.s);

      if (g.giftColor) {
        el.style.setProperty("--gift-color", g.giftColor);
      }
      if (g.ribbonColor) {
        el.style.setProperty("--ribbon-color", g.ribbonColor);
      }


      el.dataset.title = g.title;
      el.dataset.content = g.content;

      el.innerHTML = '<div class="cover"></div><div class="wrap"></div><div class="ribbon"></div>';
      return el;
    }

    for (let i = 0; i < 14; i++) {
      giftArea.appendChild(makeGift(i));
    }

    // ===== 4) Modale =====
    const modal = document.getElementById("modal");
    const modalTitle = document.getElementById("modalTitle");
    const modalBody = document.getElementById("modalBody");
    const closeBtn = modal.querySelector(".close");

    function openModal(title, content) {
      modalTitle.textContent = title || "ðŸŽ Cadeau";
      modalBody.innerHTML = content || "";
      modal.setAttribute("aria-hidden", "false");
    }

    function closeModal() {
      modal.setAttribute("aria-hidden", "true");
      modalBody.innerHTML = "";
    }

    document.addEventListener("click", (e) => {
      const gift = e.target.closest(".pressie");
      if (gift) {
        openModal(gift.dataset.title, gift.dataset.content);
        return;
      }

      if (e.target === modal) closeModal();
      if (e.target === closeBtn) closeModal();
    });

    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape" && modal.getAttribute("aria-hidden") === "false") closeModal();
    });

    // ===== 5) LumiÃ¨res sapin : remplace ton jQuery par du vanilla =====
    const scene = document.getElementById("scene");
    scene.addEventListener("mouseover", () => {
      document.querySelectorAll(".bauble").forEach(b => b.classList.add("light"));
    });
    scene.addEventListener("mouseout", () => {
      document.querySelectorAll(".bauble").forEach(b => b.classList.remove("light"));
    });
  </script>
</body>

</html>
